import PubSubPattern from "./assets/pub-sub.png"
import Zustand from './assets/zustand.jpg'
import jotai from "./assets/jotai.png"

# ë°œí–‰/êµ¬ë… ë””ìì¸ íŒ¨í„´ (Zustand, jotaië¥¼ ê³ë“¤ì¸...)

ì´ë²ˆ ê¸€ì€ ë°œí–‰/êµ¬ë… ë””ìì¸ íŒ¨í„´ì— ëŒ€í•´ í•™ìŠµí•œ ê¸€ì…ë‹ˆë‹¤. 
ë°œí–‰/êµ¬ë… ë””ìì¸ íŒ¨í„´ì€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ê³ , Zustandì™€ jotaiì—ì„œ ì´ë¥¼ ì–´ë–»ê²Œ í™œìš©í•˜ê³  ìˆëŠ”ì§€ë¥¼ í™•ì¸í•´ë´…ì‹œë‹¤.

## ëª©ì°¨
1. ë°œí–‰/êµ¬ë… ë””ìì¸ íŒ¨í„´
2. Zustand
3. jotai

## 1. ë°œìƒ/êµ¬ë… ë””ìì¸ íŒ¨í„´
### 1-1 ë°œí–‰/êµ¬ë… ë””ìì¸ íŒ¨í„´ì´ë€?
ë°œí–‰/êµ¬ë…(Publish-Subscribe, PubSub) íŒ¨í„´ì€ ì´ë²¤íŠ¸ ê¸°ë°˜ ë©”ì‹œì§• ì‹œìŠ¤í…œ ì¤‘ í•˜ë‚˜ë¡œ, **ë°œí–‰ìì™€ êµ¬ë…ìê°€ ì„œë¡œ ì§ì ‘ ì—°ê²°ë˜ì§€ ì•Šê³  ì •ë³´ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆëŠ” êµ¬ì¡°**ì…ë‹ˆë‹¤.
ë°œí–‰ìëŠ” íŠ¹ì • ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•˜ê³ , êµ¬ë…ìëŠ” ê´€ì‹¬ ìˆëŠ” ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ì—¬ ì´ë¥¼ ê°ì§€í•˜ê³  ë°˜ì‘í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ êµ¬ì¡° ë•ë¶„ì— ë°œí–‰ìì™€ êµ¬ë…ìëŠ” ì„œë¡œë¥¼ ëª°ë¼ë„ ë˜ê³ ,
ì§ì ‘ì ì¸ ì˜ì¡´ì„±ì´ ì¤„ì–´ë“¤ì–´ ë” ìœ ì—°í•œ ì„¤ê³„ê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.

### 1-2 ìºë¦­í„° ê°œë°œ ì˜ˆì‹œë¥¼ í†µí•´ ì´í•´í•´ë³´ì
ì–´ë–¤ ìƒí™©ì—ì„œ ë°œí–‰/êµ¬ë… íŒ¨í„´ì´ í•„ìš”í•œì§€ë¥¼ ìºë¦­í„° ê°œë°œ ì˜ˆì‹œë¥¼ í†µí•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

#### [ì‹œë‚˜ë¦¬ì˜¤]: ê²Œì„ì—ì„œ ìºë¦­í„°ê°€ ë ˆë²¨ì—… ì‹œ ì—¬ëŸ¬ ì‹œìŠ¤í…œì´ ë°˜ì‘í•´ì•¼ í•©ë‹ˆë‹¤.
- UIì— ë ˆë²¨ì—… ì•Œë¦¼ì´ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
- ìŠ¤í‚¬ ì‹œìŠ¤í…œì—ì„œ ìƒˆë¡œìš´ ìŠ¤í‚¬ì´ í•´ê¸ˆë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
- ìŠ¤íƒ¯ì´ ì¦ê°€í•´ì•¼ í•©ë‹ˆë‹¤.
- í€˜ìŠ¤íŠ¸ ìƒí™©ì´ ê°±ì‹ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

ë ˆë²¨ì—… ì‹œìŠ¤í…œì´ ë°œìƒí•  ë•Œ ì—¬ëŸ¬ ì‹œìŠ¤í…œì´ ë°˜ì‘í•´ì•¼ í•˜ëŠ” êµ¬ì¡°ë¥¼ ì§ì ‘ êµ¬í˜„í•´ë³´ë©´ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•  ìˆ˜ ìˆì„ê²ë‹ˆë‹¤.
```typescript
class Character {
    level = 1;
    uiManager: UIManager;
    skillSystem: SkillSystem;
    statSystem: StatSystem;
    questSystem: QuestSystem;

    constructor () {
        this.uiManager = new UIManager();
        this.skillSystem = new SkillSystem();
        this.statSystem = new StatSystem();
        this.questSystem = new QuestSystem();
    }

    levelUp() {
        this.level++;
        
        // ëª¨ë“  ê´€ë ¨ ì‹œìŠ¤í…œì„ ì§ì ‘ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤. 
        this.uiManager.showLevelUpNotification(this.level);
        this.skillSystem.unlockSkills(this.level);
        this.statSystem.increaseStats(this.level);
        this.questSystem.checkLevelUpQuests(this.level);
    }
}
```

#### [ë¬¸ì œì ]: ë ˆë²¨ì—…ì´ë¼ëŠ” ê¸°ëŠ¥ì— ë‹¤ë¥¸ ì‹œìŠ¤í…œì´ ê°•ê²°í•©ë©ë‹ˆë‹¤.
ìœ„ ì½”ë“œì—ì„œ Character í´ë˜ìŠ¤ê°€ UIManager, SkillSystem,... ë‹¤ë¥¸ ì‹œìŠ¤í…œê³¼ ì§ì ‘ ê²°í•©ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
- ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ Character ë‚´ë¶€ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.
- UIManagerì—ì„œ ì•Œë¦¼ì„ ê´€ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì´ "ë ˆë²¨ì—…" ì´ë²¤íŠ¸ì—ë§Œ í•œì •ë˜ì§€ ì•Šê³  ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì˜ˆë¥¼ ë“¤ì–´, ìŠ¤í‚¬ì´ í•´ê¸ˆë  ë•Œì—ë„ UI ì•Œë¦¼ í‘œì‹œê°€ í•„ìš”í•  ìˆ˜ ìˆëŠ”ë°, ê·¸ëŸ´ ë•Œë§ˆë‹¤ ëª¨ë“  í´ë˜ìŠ¤ì—ì„œ UIManagerë¥¼ ì°¸ì¡°í•´ì•¼ í•©ë‹ˆë‹¤.)

#### [í•´ê²°ì±…]: ë°œí–‰/êµ¬ë… íŒ¨í„´ ì ìš©
ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ë°œí–‰/êµ¬ë… íŒ¨í„´ì„ ì ìš©í•˜ë©´ ê° ì‹œìŠ¤í…œì´ ì„œë¡œ ì§ì ‘ ì—°ê²°ë˜ì§€ ì•Šê³ ë„ ì´ë²¤íŠ¸ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

ì´ íŒ¨í„´ì—ì„œëŠ” ì´ë²¤íŠ¸ ì±„ë„(Event Channel)ì„ í™œìš©í•˜ì—¬ ì´ë²¤íŠ¸ë¥¼ ì£¼ê³ ë°›ìŠµë‹ˆë‹¤.
ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•˜ë©´, ì´ë¥¼ êµ¬ë…í•œ ì‹œìŠ¤í…œì´ ë°˜ì‘í•˜ëŠ” êµ¬ì¡°ë¡œ ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ë™ì‘í•©ë‹ˆë‹¤.

<img src={PubSubPattern} alt="Publish/Subscribe Design Pattern" />

ì‹¤ì œë¡œ ë°œí–‰/êµ¬ë… íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ìœ„ ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.

```typescript
// ì´ë²¤íŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œ
class EventChannel { 
    events = {};

    // ì´ë²¤íŠ¸ ë°œí–‰ (ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•œ ì‹œìŠ¤í…œë“¤ì—ê²Œ ì „ë‹¬)
    publish(event, payload) {
        if (this.events[event]) {
            this.events[event].forEach(callback => callback(payload));
        }
    }

    // ì´ë²¤íŠ¸ êµ¬ë… (ê´€ì‹¬ ìˆëŠ” ì´ë²¤íŠ¸ë¥¼ ë“±ë¡)
    subscribe(event, callback) {
        if (!this.events[event]) {
            this.events[event] = [];
        }
        this.events[event].push(callback);
    }
}
```
```typescript
class UIManager {
  constructor() {
    // UIManagerëŠ” ì–´ë–¤ ê°ì²´ì—ì„œ ì•Œë¦¼ì´ í•„ìš”í•œì§€ ì•Œì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
    EventBus.subscribe("ShowMessage", ({ message }) => {
      console.log(`ğŸ”” UI ì•Œë¦¼: ${message}`);
    });
  }
}
```
```typescript
class Character {
  level: number = 1;

  constructor() {
    new SkillSystem(); 
    new QuestSystem();
  }

  levelUp() {
    this.level++;

    // ğŸ“¢ ì´ì œ UIManagerë¥¼ ì§ì ‘ ì°¸ì¡°í•˜ì§€ ì•Šê³ , ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•©ë‹ˆë‹¤.
    EventBus.publish("ShowMessage", { message: `ğŸ‰ ë ˆë²¨ ${this.level}ë¡œ ìƒìŠ¹!` });
    EventBus.publish("LevelUp", { level: this.level });
  }
}
```

### 1-3 ë°œí–‰/êµ¬ë… íŒ¨í„´ì˜ ì´ì ê³¼ ë‹¨ì 
#### [ì´ì ]
ë°œí–‰/êµ¬ë… íŒ¨í„´ì„ ì ìš©í•¨ìœ¼ë¡œì¨ ìš°ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì´ì ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ëª¨ë“ˆ ê°„ ê²°í•©ë„ë¥¼ ë‚®ì¶¥ë‹ˆë‹¤.
    - Character, UIManager,... ì„œë¡œê°€ ì§ì ‘ ì°¸ì¡°í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
- í™•ì¥ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.
    - ìƒˆë¡œìš´ ì‹œìŠ¤í…œì´ ì¶”ê°€ë˜ë”ë¼ë„ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
    - ì˜ˆë¥¼ ë“¤ì–´, AchievementSystemì´ ì¶”ê°€ë˜ë”ë¼ë„ Characterë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
- ìœ ì§€ë³´ìˆ˜ê°€ í¸í•´ì§‘ë‹ˆë‹¤.
    - CharacterëŠ” "ë ˆë²¨ì—…" ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•˜ê³ , ì´ë¥¼ ê°ì§€í•˜ëŠ” ì‹œìŠ¤í…œë§Œ ë³€ê²½í•˜ë©´ ë˜ë¯€ë¡œ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§‘ë‹ˆë‹¤.

#### [ë‹¨ì ]
í•˜ì§€ë§Œ ë‹¨ì ë„ ì¡´ì¬í•˜ë¯€ë¡œ ì´ íŒ¨í„´ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì¡°ì‹¬í•´ì•¼ í•©ë‹ˆë‹¤.
- End-to-Endì—ì„œ í•„ìš”í•  ìˆ˜ ìˆëŠ” ëª…ì„¸ë¥¼ ì‘ì„±í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.
- ì´ë²¤íŠ¸ í”Œë¡œìš° ì¶”ì ì´ ì–´ë µìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë””ë²„ê¹… ì‘ì—…ì´ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- êµ¬ë…ìê°€ ì ì ˆíˆ ë“±ë¡ì„ í•´ì œí•˜ì§€ ì•Šìœ¼ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë°œí–‰/êµ¬ë… íŒ¨í„´ì— ëŒ€í•œ ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ì„œ <Anchor href="https://rinae.dev/posts/why-every-beginner-front-end-developer-should-know-publish-subscribe-pattern-kr/" label="[ë²ˆì—­] ì´ˆë³´ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë“¤ì„ ìœ„í•œ Pub-Sub(Publish-Subscribe) íŒ¨í„´ì„ ì•Œì•„ë³´ê¸°" />
ë¥¼ ì½ì–´ë³´ëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.

## 2. Zustand

<img src={Zustand} alt="Zustand" />

[Zustand](https://github.com/pmndrs/zustand)ëŠ” í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê°„ë‹¨í•˜ê³  íš¨ìœ¨ì ì¸ ìƒíƒœ ê´€ë¦¬ë¥¼ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
ì‘ê³  ë¹ ë¥´ë©°, í™•ì¥ì„±ì´ ë›°ì–´ë‚˜ë‹¤ëŠ” ì¥ì ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

ì²˜ìŒ Zustandë¥¼ ì ‘í–ˆì„ ë•Œ, ë³„ë„ì˜ Provider ì—†ì´ë„ ìƒíƒœ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ê³¼ ë Œë”ë§ ìµœì í™”ê°€ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ëŠ”ì§€ ê¶ê¸ˆí–ˆìŠµë‹ˆë‹¤.
ë°œí–‰/êµ¬ë… íŒ¨í„´ì„ ê³µë¶€í•˜ë©´ì„œ Zustandì˜ ë™ì‘ ì›ë¦¬ë„ í•¨ê»˜ íŒŒí—¤ì³ë³´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

### 2-1. Zustandì˜ í•µì‹¬ ê°œë…

ZustandëŠ” ìŠ¤í† ì–´(Store) ê°œë…ì„ í™œìš©í•˜ì—¬ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
ì´ ìŠ¤í† ì–´ëŠ” ì¤‘ì•™ ì§‘ì¤‘ì‹ìœ¼ë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ë©°, íŠ¹ì • ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ë“±ë¡ëœ ë¦¬ìŠ¤ë„ˆë“¤ì—ê²Œ ë³€ê²½ ì‚¬í•­ì„ ì•Œë¦¬ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.
ì¦‰, **êµ¬ë…(Subscribe) â†’ ìƒíƒœ ë³€ê²½(Publish) -> ë³€ê²½ ì‚¬í•­ ì•Œë¦¼ì˜ ì›ë¦¬**ë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

### 2-2. ê°„ë‹¨í•œ Zustand ì‚¬ìš©ë²•

Zustandì˜ ì‚¬ìš©ë²•ì€ ì •ë§ ê°„ë‹¨í•©ë‹ˆë‹¤. ìŠ¤í† ì–´ë¥¼ ìƒì„±í•˜ê³ , í•„ìš”í•œ ìƒíƒœë¥¼ êµ¬ë…í•˜ë©´ ë©ë‹ˆë‹¤.

```typescript
import { create } from "Zustand"

// createë¥¼ í†µí•´ ìŠ¤í† ì–´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
const useStore = create((set) => ({
  bears: 0,
  increatePopulation: () => set((state) => ({ bears: state.bears + 1 })),
  removeAllBears: () => set({ bears: 0 }),
  updateBears: (newBears) => set({ bears: newBears }),
}));
```

```typescript
function BearCounter() {
  // bears ìƒíƒœë¥¼ êµ¬ë…í•©ë‹ˆë‹¤.
  const bears = useStore((state) => state.bears);
  return <h1>{bears}</h1>
}

function Controls() {
  // increatePopulation ì•¡ì…˜ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
  const increatePopulation = useStore((state) => state.increatePopulation);
  return <button onClick={increatePopulation}>one up</button>
}
```

ì´ ì½”ë“œì—ì„œ íŠ¹ë³„í•œ ì„¤ì • ì—†ì´ë„ ìƒíƒœ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ ë†€ëì§€ ì•Šë‚˜ìš”? 
ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œ Zustandê°€ Providerì—†ì´ ë™ì‘í•˜ëŠ” ê±¸ê¹Œìš”? 
ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œ ì½”ì–´ ì†ŒìŠ¤ ì½”ë“œë¥¼ íŒŒí—¤ì¹˜ë©° ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

### 2-3. Zustand ì½”ì–´ íŒŒí—¤ì¹˜ê¸°

[ì›ë³¸ ì†ŒìŠ¤ ì½”ë“œ](https://github.com/pmndrs/zustand/tree/main/src)ëŠ” ì´ê³³ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì›ë³¸ ì†ŒìŠ¤ ì½”ë“œì—ì„œëŠ” TypeScriptë¥¼ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ í¸ì˜ë¥¼ ìœ„í•´ì„œ JavaScriptë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.

#### [ìŠ¤í† ì–´ ìƒì„± ê³¼ì • - vanilla]

```typescript
const createStoreImpl = (createState) => {
  // í´ë¡œì €ë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
  let state;

  // ì¤‘ë³µëœ êµ¬ë…ì„ í”¼í•˜ê¸° ìœ„í•´ Setì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
  const listeners = new Set();

  const setState = (partial, replace) => {
    /**
     * partialì€ í•¨ìˆ˜ì™€ ë³€ìˆ˜ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
     * ì´ëŠ” Reactì˜ setStateì™€ ìœ ì‚¬í•œ ëª¨ìŠµì…ë‹ˆë‹¤.
     * ex) setState(1), setState((previousState) => previousState + 1)
     */
    const nextState = 
      typeof partial === "function"
        ? partial(state)
        : partial;

    /**
     * Object.isë¥¼ í†µí•´ í˜„ì¬ ê°ì²´ì™€ ë‹¤ìŒì— ì˜¬ ê°ì²´ë¥¼ ë¹„êµí•©ë‹ˆë‹¤.
     * ë§Œì•½ ë‹¤ë¥´ë‹¤ë©´, ìƒíƒœ ë³€ê²½ì´ ì´ë¤„ì ¸ì•¼ í•©ë‹ˆë‹¤.
     */
    if (!Object.is(nextState, state)) {
      const previousState = state;

      /**
       * (1) replace ì¡°ê±´ì„ ë§Œì¡±í•˜ê±°ë‚˜, 
       * (2) replaceê°€ null ë˜ëŠ” undefinedì¼ ë•Œ nextStateê°€ ê°ì²´ê°€ ì•„ë‹ˆê±°ë‚˜ nullì¸ ê²½ìš° nextStateë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
       * ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ëŠ” Object.assignì„ í†µí•´ nextStateì˜ í”„ë¡œí¼í‹°ë¥¼ ë®ì–´ì”ë‹ˆë‹¤.
       */
      state =
        (replace ?? (typeof nextState !== "object" || nextState === null))
          ? nextState
          : Object.assign({}, state, nextState);

      // ìµœì¢…ì ìœ¼ë¡œ ìƒíƒœê°€ ë³€í–ˆë‹¤ëŠ” ê²ƒì„ êµ¬ë…ìì—ê²Œ ì•Œë¦½ë‹ˆë‹¤.
      listeners.forEach((listener) => listener(state, previousState));
    }
  }

  // í˜„ì¬ ìƒíƒœë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
  const getState = () => state;

  // ì´ˆê¸° ìƒíƒœë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
  const getInitialState = () => initialState;

  // ëª…ì‹œì ìœ¼ë¡œ êµ¬ë…í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” subscribeë¥¼ ì œê³µí•©ë‹ˆë‹¤.
  const subscribe = (listner) => {
    listeners.add(listener);
    return () => listeners.delete(listener);
  }

  // ìµœì¢…ì ìœ¼ë¡œ ìŠ¤í† ì–´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” apië¥¼ ì œê³µí•©ë‹ˆë‹¤.
  const api = { setState, getState, getInitialState, subscribe };
  const initialState = (state = createState(setState, getState, api));

  return api;
}

export const createStore = ((createState) => 
  createState ? createStoreImpl(createState): createStoreImpl);
```



## 3. jotai

<img src={jotai} alt="jotai" />

## References

### ë°œí–‰/êµ¬ë… íŒ¨í„´
- [https://ko.wikipedia.org/wiki/%EB%B0%9C%ED%96%89-%EA%B5%AC%EB%8F%85_%EB%AA%A8%EB%8D%B8](https://ko.wikipedia.org/wiki/%EB%B0%9C%ED%96%89-%EA%B5%AC%EB%8F%85_%EB%AA%A8%EB%8D%B8)
- [https://rinae.dev/posts/why-every-beginner-front-end-developer-should-know-publish-subscribe-pattern-kr/](https://rinae.dev/posts/why-every-beginner-front-end-developer-should-know-publish-subscribe-pattern-kr/)
- [https://modernweb.com/modern-web-best-practice-pubsub/](https://modernweb.com/modern-web-best-practice-pubsub/)

### Zustand
- [https://zustand.docs.pmnd.rs/getting-started/introduction](https://zustand.docs.pmnd.rs/getting-started/introduction)
- [https://ui.toast.com/posts/ko_20210812#zustand-%ED%8C%8C%ED%97%A4%EC%B3%90%EB%B3%B4%EA%B8%B0---%EC%BD%94%EC%96%B4](https://ui.toast.com/posts/ko_20210812#zustand-%ED%8C%8C%ED%97%A4%EC%B3%90%EB%B3%B4%EA%B8%B0---%EC%BD%94%EC%96%B4)
- [https://blog.axlight.com/posts/steps-to-develop-global-state-for-react/](https://blog.axlight.com/posts/steps-to-develop-global-state-for-react/)
- [https://www.heropy.dev/p/n74Tgc](https://www.heropy.dev/p/n74Tgc)

### Jotai
- [https://jotai.org/](https://jotai.org/)