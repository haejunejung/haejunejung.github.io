---
layout: post
title: 집합
categories: [BOJ]
tags: [BOJ]
description: BOJ 11723 집합
---

# **_BOJ 11723 집합_**

- `구현` 과 `비트마스킹` 알고리즘

<hr>

## **_풀이_**

- 1~20이 들어있는지, 들어있지 않은지 확인할 수 있는 배열 생성

```c++
bool S[21];
```

- `add x`일 때, S[x] = true
- `remove x`일 때, S[x] = false
- `check x`일 때, S[x]가 true면 1, false면 0 출력
- `toggle x`일 때, S[x] = !S[x]
- `all`일 때, S[1~20] = true
- `empty`일 때, S[1~20] = false

-

<hr>

## 💡 **_Code1_**

```c++
#include <iostream>
#include <cstring>

using namespace std;

void input()
{
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);
    cout.tie(nullptr);
}

int main()
{
    input();

    bool S[21];
    fill_n(S, 21, false);

    int M;
    cin >> M;

    while (M--)
    {
        string op;
        int x;

        cin >> op;

        if (op == "add")
        {
            cin >> x;
            S[x] = true;
        }
        else if (op == "remove")
        {
            cin >> x;
            S[x] = false;
        }
        else if (op == "check")
        {
            cin >> x;
            cout << S[x] << "\n";
        }
        else if (op == "toggle")
        {
            cin >> x;
            if (S[x])
                S[x] = false;
            else
                S[x] = true;
        }
        else if (op == "all")
        {
            for (size_t i = 1; i <= 20; ++i)
                S[i] = true;
        }
        else
        {
            for (size_t i = 1; i <= 20; ++i)
                S[i] = false;
        }
    }
    return 0;
}
```

## **_풀이_**

- `비트마스킹`을 이용한 풀이
- bit 1개를 숫자 하나로 본다.
- ex) 0011 일 때는 1,2가 S에 있는 상태
- ex) 1111 일 때는 1,2,3,4가 S에 있는 상태

<br>

- `add x`일 때,

```c++
bit = bit | (1 << (x - 1));
```

- 1 << (x-1)인 이유는, 맨 오른쪽 bit가 1이기 때문에 (x-1)만큼 shift left 연산을 해야한다.

<br>

- `remove x`일 때,

```c++
bit = bit & (0xfffff & (~(1 << (x - 1))));
```

- 0xfffff는 20개 모든 수가 들어있는 집합이고,
- (~(1 << (x-1)))은, x만 제거한 집합이기 때문에
- bit와 위의 두 집합을 AND 처리 했을 때, x만 제거된다.

<br>

- `toggle x`일 때,

```c++
if (bit & (1 << (x - 1)))
    bit = bit & (0xfffff & (~(1 << (x - 1))));
else
    bit = bit | (1 << (x - 1));
```

- `add x`와 `remove x`를 조합하여 만들되, 조건문만 달면 된다.

<br>

- `all`일 때,

```c++
bit = 0xfffff;
```

<br>

- `empty`일 때,

```c++
bit = 0;
```

<hr>

## 💡 **_Code2_**

```c++
#include <iostream>
#include <cstring>

using namespace std;

void input()
{
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);
    cout.tie(nullptr);
}

int main()
{
    input();

    int M, x, bit = 0;
    cin >> M;

    while (M--)
    {
        string op;
        cin >> op;

        if (op == "add")
        {
            cin >> x;
            bit = bit | (1 << (x - 1));
        }
        else if (op == "remove")
        {
            cin >> x;
            bit = bit & (0xfffff & (~(1 << (x - 1))));
        }
        else if (op == "check")
        {
            cin >> x;
            if (bit & (1 << (x - 1)))
                cout << 1 << "\n";
            else
                cout << 0 << "\n";
        }
        else if (op == "toggle")
        {
            cin >> x;
            if (bit & (1 << (x - 1)))
                bit = bit & (0xfffff & (~(1 << (x - 1))));
            else
                bit = bit | (1 << (x - 1));
        }
        else if (op == "all")
        {
            bit = 0xfffff;
        }
        else
        {
            bit = 0;
        }
    }

    return 0;
}
```
