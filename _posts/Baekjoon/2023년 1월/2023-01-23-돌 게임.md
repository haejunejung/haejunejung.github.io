---
layout: post
title: 돌 게임
categories: [BOJ]
tags: [BOJ]
description: BOJ 9655 돌 게임
---

# **_BOJ 9655 돌 게임_**

- `수학`, `다이나믹 프로그래밍`, `게임 이론` 알고리즘

<hr>

## **_풀이_**

- N % 3 == 0, 1, 2를 기준으로 몇 개의 카드를 가져갈 지를 정했다.

<br>

- N % 3 == 0일 때, Idx가 짝수면 3개를 가져가고 홀수면 1개를 가져간다
- ex) 0, 3, 6, 9, 12, 15가 있을 때, 3, 9, 15, ... 일 때 3개를 가져가고 0, 6, 12, ... 일 때 1개를 가져간다

```c++
if ((N % 3) == 0)
{
    if (IsEvenIdx(N / 3))
        N -= 3;
    else
        N -= 1;
}
```

<br>

- N % 3 == 1일 때와 N % 3 == 2일 때는, Idx가 짝수면 1개를 가져가고 홀수면 3개를 가져간다
- ex) 1, 4, 7, 10, 13, 16이 있을 때, 1, 7, 13, ... 일 때는 1개를 가져가고 4, 10, 16, ... 일 때는 3개를 가져간다

```c++
else if ((N % 3) == 1)
{
    if (IsEvenIdx(N / 3))
        N -= 1;
    else
        N -= 3;
}
else
{
    if (IsEvenIdx(N / 3))
        N -= 1;
    else
        N -= 3;
}
```

<br>

- 턴은 계속 바뀌기 때문에, 진행할 때마다 턴을 바꿔준다

```c++
flag = !flag; // true -> SK , false -> CY
```

<hr>

## 💡 **_Code1_**

```c++
#include <iostream>

using namespace std;

void input()
{
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);
    cout.tie(nullptr);
}

bool IsEvenIdx(int val)
{
    if (val % 2 == 0)
        return true;
    else
        return false;
}

int main()
{
    input();

    int N;
    cin >> N;

    bool flag = true;
    while (N > 0)
    {
        if ((N % 3) == 0)
        {
            if (IsEvenIdx(N / 3))
                N -= 3;
            else
                N -= 1;
        }
        else if ((N % 3) == 1)
        {
            if (IsEvenIdx(N / 3))
                N -= 1;
            else
                N -= 3;
        }
        else
        {
            if (IsEvenIdx(N / 3))
                N -= 1;
            else
                N -= 3;
        }

        if (N <= 0)
            break;

        flag = !flag;
    }

    if (flag)
        cout << "SK";
    else
        cout << "CY";

    return 0;
}
```

<hr>

## **_풀이_**

- 두 사람이 한 번씩 진행했을 때 가져갈 수 있는 경우의 수는 1+1, 1+3, 3+1, 3+3으로 4가지이다.
- 즉, 두 사람이 한 번씩 진행했을 때 짝수 개수만큼 사용한다는 의미이다.
- 이를 바탕으로, 4n + 1, 4n + 3의 홀수 개수만큼 돌이 있을 경우 상근이가 이기게 되고
- 4n, 4n+2의 짝수 개수만큼 돌이 있을 경우 창영이가 이기게 된다.

## 💡 **_Code2_**

```c++
#include <iostream>

using namespace std;

void input()
{
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);
    cout.tie(nullptr);
}

int main()
{
    input();

    int N;
    cin >> N;

    if (N % 4 == 0 || N % 4 == 2)
    {
        cout << "CY";
    }
    else
    {
        cout << "SK";
    }

    return 0;
}
```
