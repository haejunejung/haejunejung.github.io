---
title : DB lab#3
date : 2022.11.27
categories : ë°ì´í„°ë² ì´ìŠ¤
---

DB lab#5 ì •ë¦¬ê¸€

## ê³¼ì œ ì„¤ëª…

![poster](../../assets/dblab5.png)


<br/><br/>

## ë‚´ ìƒê°

```
lab#3ì—ì„œ ë§Œë“¤ì—ˆë˜ ìŠ¤í‚¤ë§ˆë¥¼ ì§ì ‘ êµ¬í˜„í•´ë³´ëŠ” ê³¼ì œì˜€ë‹¤.   
ì²˜ìŒì—ëŠ” MySQLì„ ê¹”ê³ , VSCODEì— ì—°ê²°í•˜ëŠ” ê²ƒê¹Œì§€ í•˜ëŠ”ë°ë„ ì˜¤ë˜ê±¸ë ¸ë‹¤.    
í•˜ì§€ë§Œ í•œ ë²ˆ ì—°ê²°í•œ í›„ì—ëŠ” ê·¸ë ‡ê²Œ ì–´ë µì§€ ì•Šê²Œ ì—°ë™í•  ìˆ˜ ìˆì—ˆë‹¤.     
SQL ë¬¸ë²•ì— ëŒ€í•´ì„œë„ ë‹¤ì‹œ ê³µë¶€í•´ë³¼ ìˆ˜ ìˆëŠ” ì¢‹ì€ ê²½í—˜ì´ì—ˆë‹¤.
ìš°ë¦¬ ì¡°ì—ì„œ ë‚˜ëŠ” DDLì„ ë§Œë“œëŠ” íŒŒíŠ¸ì˜€ê³ , ê·¸ë ‡ë‹¤ë³´ë‹ˆ ì²˜ìŒë¶€í„° ì½”ë“œë¥¼ ì§œë³¼ ìˆ˜ ìˆì—ˆë‹¤.
ê·¸ë ‡ë‹¤ë³´ë‹ˆ SQLë¬¸ë²•ë„ ê³µë¶€í•˜ê³ , ë‹¤ë¥¸ ë¶€ë¶„ì— ëŒ€í•´ì„œë„ ë§ì´ ìƒê°í•´ë³¼ ìˆ˜ ìˆì—ˆë‹¤.
íŠ¹íˆ, PKëŠ” NOT NULL, FKëŠ” PK í˜¹ì€ UNIQUE ì†ì„±, ë‹¤ì–‘í•œ CONSTRAINTSì„ ê³µë¶€í•  ìˆ˜ ìˆì—ˆë‹¤.
TRIGGERì„ ë³´ë©´ì„œ ìš°ë¦¬ê°€ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ì›¹ì˜ íŠ¹ì„±ê¹Œì§€ë„ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.
ì—­ì‹œ ì‹¤ì œë¡œ ê²½í—˜í•´ë³´ë©´ì„œ ê³µë¶€í•˜ëŠ” ê²ƒì´ ê°€ì¥ ê³µë¶€ê°€ ì˜ ë˜ëŠ” ê²ƒ ê°™ë‹¤ :)
ì‹œê°„ì´ ì œë²• ë§ì´ ê±¸ë ¸ìŒì—ë„ ë§ì€ ê²ƒë“¤ì„ ë°°ì›Œë³¼ ìˆ˜ ìˆëŠ” ê³„ê¸°ê°€ ë˜ì–´ì„œ ë„ˆë¬´ ì¢‹ì•˜ë‹¤.
ë‹¤ë§Œ ì¡°ê¸ˆ ì•„ì‰¬ì› ë˜ ì ì€, ê°œë³„ ê³¼ì œë¡œ ì£¼ì–´ì¡Œë‹¤ë©´ TRIGGERê¹Œì§€ ëª¨ë“  ë¶€ë¶„ì„ ì§œë´¤ì„í…ë° ê·¸ê²Œ ì•„ì‰¬ì› ë‹¤.
ì§€ê¸ˆ ë‹¹ì¥ì—ëŠ” ì‹œê°„ì´ ë¶€ì¡±í•´ì„œ ë’¤ì˜ ë¶€ë¶„ì„ ì§œì§€ ëª»í•˜ì§€ë§Œ ë°©í•™ ë•Œ DBë¥¼ ê³µë¶€í•˜ë©´ì„œ í•´ë³¼ ê³„íšì´ë‹¤ ğŸ˜  
```

<br/><br/>

## ìŠ¤í‚¤ë§ˆ

```
OUR SCHEMA

person1 (Person_ID, Name, Email, Address, Nation, Phone)
If Address is updated and updated address is not in person2, insert (updated address, NULL) to person2.

person2 (Address, PostalCode)

schools (Person_ID, Schools)
Person_ID references person1(Person_ID)

Stakeholders (Stakeholder_ID, Domain, Person_ID)

professor (Professor_ID, Major, Department_name, Person_ID)

staff (Staff_ID, Date_Hired, Position, Person_ID)

technical_staff (Staff_ID, Lab_Name, Department_Name)
Staff_ID references staff(Staff_ID)
If newly inserted staff was in administrative_staff, delete the information in administrative_staff.

administrative_staff (Staff_ID)
Staff_ID references staff(Staff_ID)
If newly inserted staff was in technical_staff, delete the information in administrative_staff.

administrative_manager (Staff_ID)
Staff_ID references administrative_staff(Staff_ID)

student (Student_ID, Year, Person_ID)

Majors (Student_ID, Majors)
Student_ID references student(Student_ID)

Minors (Student_ID, Minors)
Student_ID references student(Student_ID)

undergraduate (Student_ID)
Student_ID references student(Student_ID)

graduate (Student_ID, Professor_ID)
Student_ID references student(Student_ID)
If newly inserted student was in undergraduate, delete the information in undergraduate.

course (Course_ID, Name, Credit, Date_Time)

laboratory1 (Lab_Name, Department_Name, Capacity, Location)

laboratory2 (Department_Name, Department_Number)
Department_Name references laboratory1(Department_Name) on update cascade on delete cascade

teaching_laboratory (Lab_Name, Department_Name)
(Lab_Name, Department_Name) references laboratory1(Lab_Name, Department_Name) on update cascade on delete cascade

research_laboratory (Lab_Name, Department_Name)
(Lab_Name, Department_Name) references laboratory1(Lab_Name, Department_Name) on update cascade on delete cascade

equipment1 (Equipment_ID, Lab_Name, Department_Name, Model_No, Date_Purchased)
(Lab_Name, Department_Name) references laboratory1(Lab_Name, Department_Name) on update cascade on delete set null

equipment2 (Model_No, Name)

opinion (Stakeholder_ID, opinion_ID, topic, date, type)
Stakeholder_ID references Stakeholders(Stakeholder_ID)

take (Student_ID, Course_ID)
Student_ID references student(Student_ID)
Course_ID references course(Course_ID)

teach (Professor_ID, Course_ID)
Professor_ID references professor(Professor_ID)
Course_ID references course(Course_ID)

experiment (Student_ID, Lab_Name, Department_Name, Attendance_Date)
Student_ID references undergraduate(Student_ID)
(Lab_Name, Department_Name) references teaching_laboratory(Lab_Name, Department_Name) on update cascade on delete set null

assigned (Student_ID, Lab_Name, Department_Name, Topic)
Student_ID references graduate(Student_ID)
(Lab_Name, Department_Name) references research_laboratory(Lab_Name, Department_Name) on update cascade on delete set null

hire (Staff_ID, Professor_ID)
Staff_ID references administrative_manager(Staff_ID)
Professor_ID references professor(Professor_ID)
```



## ì½”ë“œ

ì½”ë“œê°€ ê¶ê¸ˆí•˜ë‹¤ë©´, [í•´ì¤€'s DB GIT](https://github.com/haejunejung/DB/tree/main/LAB)ì„ í´ë¦­í•˜ì„¸ìš” â—ï¸