---
title : CH4
date : 2022.11.24
categories : 컴퓨터구조
---

## CH4-1

- 명령어 개수, 클럭 사이클 시간, 명령어당 클럭 사이클 수 → 컴퓨터 성능
- 컴파일러와 명령어 집합 구조 → 프로그램에 필요한 명령어 개수
- 클럭 사이클 시간과 명령어당 클럭 사이클 수는 프로세서의 구현 방법에 의해 결정된다 → 프로세서 구현 방법에 대해 배울 것이다 ❗️

<br/>

- 산술/논리 명령어, 메모리 참조 명령어, 분기 명령어를 구현하는데 필요한 일의 상당히 많은 부분은 명령어 종류에 상관없이 동일하다.
- 모든 명령어의 첫 두 단계는 다음과 같다.

  1. PC를 프로그램이 저장되어 있는 메모리에 보내서 메모리로부터 명령어를 가져온다.
  2. 읽을 레지스터를 선택하는 명령어 필드를 사용하여 하나 또는 2개의 레지스터를 읽는다. 적재 명령어는 레지스터 하나만 읽으면 되지만 대부분의 다른 명령어는 레지스터 2개를 읽는다.

- 두 단계 이후 명령어를 실행하기 위해 필요한 행동들은 명령어 종류에 따라 달라진다.
- 산술/논리 명령어, 메모리 참조 명령어, 분기 명령어 각각에 대해서는 명령어가 무엇인지에 상관없이 필요한 행동들이 대부분 같다.

<br/>

- 점프 명령어를 제외한 모든 명령어가 레지스터를 읽은 후에는 ALU를 사용한다
- 메모리 참조 명령어는 주소 계산을 위해서 ALU를 사용한다 → 메모리 접근
- 산술/논리 명령어는 연산을 수행하기 위해서 ALU를 사용한다 → ALU나 메모리에서 온 데이터를 레지스터에 쓴다
- 분기 명령어는 비교하기 위해서 ALU를 사용한다 → 비교 결과에 따라서 다음 명령어의 주소를 바꾸거나 다음 명령어의 주소를 갖게 한다
- 메모리 참조 명령어 ⇢ 저장 명령어 → 데이터를 기록하기 위해서 접근
- 메모리 참조 명령어 ⇢ 적재 명령어 → 데이터를 읽기 위해서 접근
- ❗️ 사진1 첨부

- 프로세서 내의 데이터 흐름을 거의 보여주고 있지만, 중요한 두 가지 측면이 빠져있다.
  1. 서로 다른 근원지에서 나온 데이터가 같은 유닛으로 가는 곳이 있다.
    - PC에 들어갈 값은 두 덧셈기 중 하나에서 나온다
    - ALU에서 두 번째 입력은 레지스터나 명령어 수치 필드에서 나온다
  2. 어떤 유닛들은 명령어 종류에 따라 다르게 제어되어야 하는데 이 부분이 빠져있다.
    - 데이터 메모리는 적재 명령어일 때는 읽기, 저장 명령어일 때는 쓰기를 해야 한다
    - 레지스터 파일은 적재 명령어나 산술/논리 연산 명령어일 때만 쓰기를 해야 한다

- 보안된 프로세서 내의 데이터 흐름
- ❗️ 사진2 첨부


## Ch 4-2

- 컴퓨터를 구현하고 있는 논리 회로
- MIPS를 구현하는데 데이터패스 요소는 조합 소자와 상태 소자 두 가지 종류의 논리 소자들로 구성된다
- 조합 소자 → 데이터 값에 대해 연산을 수행하는 소자로, 출력이 현재 입력에 의해서만 결정된다
- 상태 소자 → 소자 내부 기억 장소가 있는 소자로, 명령어 메모리, 데이터 메모리, 레지스터 등이 상태 소자이다
- 상태 소자는 적어도 2개의 입력과 1개의 출력을 갖는다 → 입력: 기록할 데이터와 클럭 / 출력 : 이전 클럭 사이클에 기록된 값
- 이 때, 클럭을 입력하는 이유? → 데이터 값이 소자에 기록되는 시점을 결정한다

<br/>

- 상태를 포함하는 논리 구성요소들을 순차회로라 한다 → 출력이 입력뿐만 아니라, 내부 상태에 따라서도 달라지기 때문이다.
- 예를 들면, 레지스터 파일의 출력은 입력되는 레지스터 번호와 전에 레지스터에 기록된 값 모두에 영향을 받는다.

<br/>

### 클러킹 방법론 (Clocking methodology)

- 신호를 읽고 쓰는 시점을 정의한다
- 신호를 읽고 있는데 동시에 누군가가 새로운 값을 쓴다면, 읽은 값이 옛 값일 수도 있고 새로 쓴 값일 수도 있고 심지어는 두 값이 뒤섞인 것일 수도 있기 때문에 읽기와 쓰기의 타이밍을 명확하게 지정하는 것이 중요하다
- 에지 구동 클러킹 (Edge-triggered clocking) 
  - 순차 논리 소자에 저장된 값을 클럭 에지에서만 바꿀 수 있다는 것을 의미한다
  - 레지스터 내용을 읽고 그 값을 조합 회로로 보내고 같은 레지스터에 쓰는 작업 모두가 한 클럭 사이클에 일어나는 것을 허용한다
  - 한 클럭 사이클 내에는 피드백이 되지 않는다


## CH 4-3

  



